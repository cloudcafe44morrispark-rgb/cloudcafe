# 解决摄像头启动失败问题

## 可能的原因

### 1. 浏览器权限被拒绝 ⚠️
手机浏览器可能拒绝了摄像头权限，或者之前授予的权限被撤销。

### 2. 需要刷新页面清除状态
扫描后摄像头可能处于异常状态。

### 3. 浏览器兼容性
某些手机浏览器对摄像头API支持不完整。

---

## 🔧 快速解决方案

### 方案1: 手动输入用户ID（最简单）

由于您之前已经成功扫描并看到了用户信息，说明功能是正常的。如果只是无法再次启动摄像头，可以**手动输入用户ID**来添加积分。

从之前的截图可以看到wendy的user_id是：
```
1c887966-10aa-47c9-8b35-b37e8febb00d
```

**步骤**：
1. 不要点击"Start Camera"
2. 直接在页面上找输入框（如果有的话）
3. 或者我们可以添加一个手动输入功能

---

### 方案2: 授予摄像头权限

#### iPhone (Safari):
1. 进入 **设置** → **Safari** → **摄像头**
2. 确保设置为 **询问** 或 **允许**
3. 刷新页面重试

#### Android (Chrome):
1. 点击地址栏左侧的 **锁形图标**
2. 找到 **摄像头** 权限
3. 设置为 **允许**
4. 刷新页面重试

---

### 方案3: 添加手动输入功能（推荐）

我可以快速添加一个手动输入用户ID的功能，这样即使摄像头失败也能添加积分。

需要我添加这个功能吗？

---

## ⚡ 临时测试方法

如果您只是想测试添加积分功能是否正常：

### 使用浏览器开发者工具

在手机Chrome中：
1. 地址栏输入：`chrome://inspect`
2. 或者连接电脑用Chrome DevTools远程调试

然后在Console中执行：
```javascript
// 模拟扫描wendy的QR码
handleScan('cloudcafe:1c887966-10aa-47c9-8b35-b37e8febb00d')
```

---

## 推荐做法

**最实用的方法**：我添加一个"手动输入用户ID"的功能，这样：
- ✅ 不依赖摄像头
- ✅ 可以快速测试
- ✅ 作为备用方案

需要我立即添加这个功能吗？只需要1-2分钟。
